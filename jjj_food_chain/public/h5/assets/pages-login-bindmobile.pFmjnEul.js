import{_ as s,x as e,k as a,m as t,y as o,c as n,w as i,e as l,o as d,a as c,h as r,B as u}from"./index-g5-6g3i5.js";const _=s({data:()=>({background:"",listData:[],sessionKey:""}),onLoad(){let s=this;e({success(e){s._post("user.user/getSession",{code:e.code},(e=>{s.sessionKey=e.data.session_key}))}})},methods:{onNotLogin:function(){this.gotoPage("/pages/index/index")},getPhoneNumber(s){var n=this;if("getPhoneNumber:ok"!==s.detail.errMsg)return!1;a({title:"正在处理",mask:!0}),e({success(e){n._post("user.user/bindMobile",{session_key:n.sessionKey,encrypted_data:s.detail.encryptedData,iv:s.detail.iv},(s=>{t(),o()}),!1,(()=>{t()}))}})}}},[["render",function(s,e,a,t,o,_){const g=l,f=u;return d(),n(g,{class:"login-container"},{default:i((()=>[c(g,{class:"wechatapp"},{default:i((()=>[c(g,{class:"header"})])),_:1}),c(g,{class:"auth-title"},{default:i((()=>[r("申请获取以下权限")])),_:1}),c(g,{class:"auth-subtitle"},{default:i((()=>[r("为了为您提供更优质的服务，我们需要获得你的手机号")])),_:1}),c(g,{class:"login-btn"}),c(g,{class:"no-login-btn"},{default:i((()=>[c(f,{class:"btn-normal",onClick:_.onNotLogin},{default:i((()=>[r("暂不授权")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-70222afe"]]);export{_ as default};

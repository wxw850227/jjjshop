import{_ as t,q as e,p as s,W as a,c as o,w as i,e as l,o as n,a as d,b as u,r as c,F as r,h as f,g,z as _,t as h}from"./index-g5-6g3i5.js";const p=t({data:()=>({listData:[],isLoading:!0,storeList:[],longitude:"",latitude:"",selectedId:-1}),onLoad(t){this.selectedId=t.store_id,this.getData()},methods:{onAuthorize(){let t=this;uni.openSetting({success(e){e.authSetting["scope.userLocation"]&&(console.log("授权成功"),t.isAuthor=!0,setTimeout((()=>{t.getLocation((t=>{}))}),1e3))}})},getLocation(t){let a=this;e({type:"wgs84",success(t){a.longitude=t.longitude,a.latitude=t.latitude,a.getData()},fail(){s({title:"获取定位失败，请点击右下角按钮打开定位权限",duration:2e3}),a.isAuthor=!1}})},getData(){let t=this;t.isLoading=!0,t._get("store.store/lists",{longitude:t.longitude,latitude:t.latitude},(function(e){t.isLoading=!1,t.storeList=e.data.list}))},onSelectedStore(t){if(this.selectedId=t,a().length<2)return!1;this.$fire.fire("selectStoreId",t),history.go(-1)}}},[["render",function(t,e,s,a,p,L){const y=_,S=l;return n(),o(S,null,{default:i((()=>[d(S,{class:"address-list bg-white"},{default:i((()=>[(n(!0),u(r,null,c(p.storeList,((t,e)=>(n(),o(S,{class:"address p30 d-s-c border-b-e",key:e},{default:i((()=>[d(S,{class:"info flex-1",onClick:e=>L.onSelectedStore(t)},{default:i((()=>[d(S,{class:"user f34"},{default:i((()=>[d(y,null,{default:i((()=>[f(h(t.store_name),1)])),_:2},1024)])),_:2},1024),d(S,{class:"pt10 user f30 gray6"},{default:i((()=>[d(y,null,{default:i((()=>[f(h(t.phone),1)])),_:2},1024)])),_:2},1024),d(S,{class:"pt10 f24 gray6"},{default:i((()=>[d(y,null,{default:i((()=>[f(h(t.region.province)+h(t.region.city)+h(t.region.region)+h(t.address),1)])),_:2},1024)])),_:2},1024),d(S,null,{default:i((()=>[d(y,{class:"iconfont icon-dingwei"}),d(y,null,{default:i((()=>[f(h(t.distance_unit),1)])),_:2},1024)])),_:2},1024),t.store_id==p.selectedId?(n(),o(S,{key:0,class:"shop-item__right"},{default:i((()=>[d(y,{class:"iconfont icon-iconfontduihaocopy"})])),_:1})):g("",!0)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),p.isLoading||p.storeList.length?g("",!0):(n(),o(S,{key:0},{default:i((()=>[d(S,{class:"yoshop-notcont"},{default:i((()=>[d(y,{class:"iconfont icon-wushuju"}),d(y,{class:"cont"},{default:i((()=>[f("亲，暂无自提门店哦")])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1})}],["__scopeId","data-v-1101dc09"]]);export{p as default};

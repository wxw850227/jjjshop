import{_ as a,W as s,q as e,X as l,D as t,Y as r,o as c,c as o,w as n,f as i,a as d,O as u,d as f,b as h,r as m,F as p,I as _,j as g,t as y}from"./index-61e49878.js";const k=a({data:()=>({form:{},arr:[]}),mounted(){this.getData()},methods:{getData(){let a=this;s({key:"search_list",success:function(s){null!=s&&null!=s.data&&(a.arr=s.data)}})},search(a){let s=null;if(null!=a)s=a;else{s=this.form.keyWord;let a=this.arr;if(void 0===s||null==s||""==s)return e({title:"请输入搜索的关键字",icon:"none",duration:2e3}),!1;a.push(s),l({key:"search_list",data:a,success:function(){console.log("success")}})}t({url:"/pages/product/list/list?search="+s+"&category_id=0&sortType=all"})},clearStorage(){let a=this;r({key:"search_list",success:function(s){a.arr=[]}})}}},[["render",function(a,s,e,l,t,r){const k=_,x=i,b=g;return c(),o(x,{class:"search-wrap"},{default:n((()=>[d(x,{class:"index-search-box d-b-c",id:"searchBox"},{default:n((()=>[d(x,{class:"index-search t-c flex-1"},{default:n((()=>[u("span",{class:"icon iconfont icon-sousuo"}),d(k,{type:"text",modelValue:t.form.keyWord,"onUpdate:modelValue":s[0]||(s[0]=a=>t.form.keyWord=a),class:"flex-1 ml10 f30 gray3","placeholder-class":"f24 gray6",placeholder:"输入你要的商品","confirm-type":"search",onConfirm:s[1]||(s[1]=a=>r.search())},null,8,["modelValue"])])),_:1})])),_:1}),d(x,{class:"p-0-20 bg-white"},{default:n((()=>[d(x,{class:"group-hd"},{default:n((()=>[d(x,{class:"left"},{default:n((()=>[d(b,{class:"min-name"},{default:n((()=>[f("最近搜索")])),_:1})])),_:1}),d(x,{class:"right"},{default:n((()=>[u("span",{class:"icon iconfont icon-lajitong",onClick:s[2]||(s[2]=(...a)=>r.clearStorage&&r.clearStorage(...a))})])),_:1})])),_:1}),d(x,{class:"before-search"},{default:n((()=>[(c(!0),h(p,null,m(t.arr,((a,s)=>(c(),o(b,{class:"item",key:s,onClick:a=>r.search(t.arr[s])},{default:n((()=>[f(y(t.arr[s]),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-e51d3535"]]);export{k as default};

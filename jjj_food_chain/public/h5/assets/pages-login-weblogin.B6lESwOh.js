import{_ as e,p as a,k as s,s as t,l as o,m as i,c as l,w as n,d,e as r,o as c,a as u,h as m,g as f,I as g,z as _,B as p}from"./index-g5-6g3i5.js";const k=e({data:()=>({formData:{mobile:"",password:""},is_login:2,isRead:!1}),methods:{xieyi(e){this.gotoPage("/pages/webview/ue?type="+e)},formSubmit(){let e=this;if(!e.isRead)return void a({title:"请先阅读并接受用户协议及隐私政策",duration:2e3,icon:"none"});let l={mobile:e.formData.mobile,password:e.formData.password},n="";if(/^1(3|4|5|6|7|8|9)\d{9}$/.test(e.formData.mobile)){if(2==e.is_login){if(e.formData.password.length<6)return void a({title:"密码至少6位数！",duration:2e3,icon:"none"});n="user.useropen/register"}else{if(""==e.formData.password)return void a({title:"密码不能为空！",duration:2e3,icon:"none"});n="user.useropen/phonelogin"}s({title:"正在提交",mask:!0}),e._post(n,l,(a=>{t("token",a.data.token),t("user_id",a.data.user_id);let s="/"+o("currentPage"),i=o("currentPageOptions");if(Object.keys(i).length>0){s+="?";for(let e in i)s+=e+"="+i[e]+"&";s=s.substring(0,s.length-1)}e.gotoPage(s,"redirect")}),!1,(()=>{i()}))}else a({title:"手机有误,请重填！",duration:2e3,icon:"none"})}}},[["render",function(e,a,s,t,o,i){const k=r,b=g,h=_,y=p;return c(),l(k,{class:d(["login-container",e.theme()||""]),"data-theme":e.theme()},{default:n((()=>[u(k,{class:"skip",onClick:a[0]||(a[0]=a=>e.gotoPage("/pages/index/index"))},{default:n((()=>[m("跳过→")])),_:1}),0!=o.is_login?(c(),l(k,{key:0,class:""},{default:n((()=>[u(k,{class:"login_topbpx"},{default:n((()=>[2==o.is_login?(c(),l(k,{key:0,class:"login_tit"},{default:n((()=>[m("快速注册")])),_:1})):f("",!0),1==o.is_login?(c(),l(k,{key:1,class:"login_tit"},{default:n((()=>[m("账号登录")])),_:1})):f("",!0)])),_:1}),u(k,{class:"group-bd"},{default:n((()=>[u(k,{class:"form-level d-s-c"},{default:n((()=>[u(b,{class:"login-input","adjust-position":!1,type:"text",modelValue:o.formData.mobile,"onUpdate:modelValue":a[1]||(a[1]=e=>o.formData.mobile=e),placeholder:"请填写手机号"},null,8,["modelValue"])])),_:1}),u(k,{class:"form-level d-s-c"},{default:n((()=>[u(b,{class:"login-input","adjust-position":!1,type:"text",password:"true",modelValue:o.formData.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.formData.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):f("",!0),u(k,{onClick:a[5]||(a[5]=e=>o.isRead=!o.isRead),class:"d-s-c gray6 mt30"},{default:n((()=>[u(k,{class:d(["icon iconfont icon-tijiaochenggong",o.isRead?"active agreement":"agreement"])},null,8,["class"]),m(" 我已阅读并接受"),u(h,{class:"theme-notice",onClick:a[3]||(a[3]=e=>i.xieyi("service"))},{default:n((()=>[m("《用户协议》")])),_:1}),m("和"),u(h,{class:"theme-notice",onClick:a[4]||(a[4]=e=>i.xieyi("privacy"))},{default:n((()=>[m("《隐私政策》")])),_:1})])),_:1}),2==o.is_login?(c(),l(y,{key:1,class:"theme-btn sub-btn",onClick:i.formSubmit},{default:n((()=>[m("立即注册")])),_:1},8,["onClick"])):f("",!0),1==o.is_login?(c(),l(y,{key:2,class:"theme-btn sub-btn",onClick:i.formSubmit},{default:n((()=>[m("立即登录")])),_:1},8,["onClick"])):f("",!0),u(k,{class:"f30 gray6 d-c-c"},{default:n((()=>[1==o.is_login?(c(),l(k,{key:0,onClick:a[6]||(a[6]=e=>o.is_login=2)},{default:n((()=>[m("快速注册")])),_:1})):f("",!0),2==o.is_login?(c(),l(k,{key:1,onClick:a[7]||(a[7]=e=>o.is_login=1)},{default:n((()=>[m("账号登录")])),_:1})):f("",!0)])),_:1})])),_:1},8,["data-theme","class"])}],["__scopeId","data-v-69128e3d"]]);export{k as default};

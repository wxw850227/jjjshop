import{E as a,e as t,v as s}from"./element-plus-0b11a037.js";import{_ as i,d as e}from"./index-ece0f3b6.js";import{P as o}from"./page-127d4569.js";import r from"./Type-ee39c362.js";import m from"./Model-7d197e9c.js";import d from"./Params-20de5fa0.js";import{aj as p,$ as l,o as n,c as j,a as u,T as f,Y as c,P as y,S as g,W as D}from"./@vue-5441e37d.js";import"./@vueuse-d256812d.js";import"./lodash-es-d1425fe7.js";import"./async-validator-cf877c1f.js";import"./@element-plus-2416ebe7.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-e88e0a38.js";import"./pinia-f65196e0.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-026a3d0f.js";import"./Setpages-31211294.js";import"./Banner-340c14f8.js";import"./Window-95f1b261.js";import"./NavBar-6c1d98a0.js";import"./Blank-7ff8b094.js";import"./Guide-caafc5a0.js";import"./vuedraggable-fa449dda.js";import"./vue-ffc0216e.js";import"./sortablejs-88eb33dd.js";import"./adNav-13580f58.js";import"./store-d7a6e102.js";import"./Upload-700ab3cd.js";import"./Setpages-4affe31d.js";import"./Banner-5b677e54.js";import"./Setlink-d42a8347.js";import"./Window-d6afdc0a.js";import"./NavBar-44ad1bfd.js";import"./adNav-3be2a95d.js";import"./Blank-0c1c8263.js";import"./Guide-b7501800.js";import"./product-6e09d9a6.js";const h={class:"diy-container clearfix"},v={class:"diy-menu"},b={class:"diy-phone"},x={class:"diy-info"},k={class:"common-button-wrapper"};const S=i({components:{Type:r,Model:m,Params:d},data:()=>({loading:!0,defaultData:{},diyData:{items:[]},opts:{},form:{umeditor:{},curItem:{},selectedIndex:-1}}),created(){this.getData()},methods:{getData(){let a=this;o.editHome({},!0).then((t=>{a.defaultData=t.data.defaultData,a.diyData=t.data.jsonData,a.form.curItem=a.diyData.page,a.opts=t.data.opts,a.loading=!1})).catch((t=>{a.loading=!1}))},onAddItem:function(a){let t=e(this.defaultData[a]),s=0;this.form.selectedIndex<0?(s=0,this.diyData.items.unshift(t)):(s=this.form.selectedIndex+1,this.diyData.items.splice(s,0,t)),this.$refs.model.onEditer(s)},Submit(){let t=this;t.loading=!0;let s=t.diyData,i=t.page_id;o.SavePage({params:JSON.stringify(s),page_id:i},!0).then((s=>{t.loading=!1,a({message:"恭喜你，修改成功",type:"success"}),t.getData(),t.form.selectedIndex=-1})).catch((a=>{t.loading=!1}))}}},[["render",function(a,i,e,o,r,m){const d=p("Type"),S=p("Model"),I=p("Params"),w=t,B=s;return l((n(),j("div",h,[u("div",v,[r.loading?c("",!0):(n(),f(d,{key:0,defaultData:r.defaultData},null,8,["defaultData"]))]),u("div",b,[r.loading?c("",!0):(n(),f(S,{key:0,ref:"model",form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),u("div",x,[r.loading?c("",!0):(n(),f(I,{key:0,form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),u("div",k,[y(w,{size:"small",type:"primary",onClick:i[0]||(i[0]=a=>m.Submit()),loading:r.loading},{default:g((()=>[D("保存")])),_:1},8,["loading"])])])),[[B,r.loading]])}]]);export{S as default};

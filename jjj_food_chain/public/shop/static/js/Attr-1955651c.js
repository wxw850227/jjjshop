import{e as t,F as e,d as a}from"./element-plus-0b11a037.js";import{_ as s}from"./index-ece0f3b6.js";import{o as r,c as l,a as i,W as o,Q as d,a8 as u,P as m,S as n,T as c,Y as p,b as h,bb as v,b9 as b}from"./@vue-5441e37d.js";import"./@vueuse-d256812d.js";import"./lodash-es-d1425fe7.js";import"./async-validator-cf877c1f.js";import"./@element-plus-2416ebe7.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-e88e0a38.js";import"./pinia-f65196e0.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-026a3d0f.js";const f={data:()=>({restaurants:[],restaurants2:[],formData:{}}),inject:["form"],methods:{addAttr(){""==this.form.model.product_attr&&(this.form.model.product_attr=[]),this.form.model.product_attr.push({attribute_name:"",attribute_value:["",""]})},querySearch(t,e){let a=this;0==a.restaurants.length&&a.form.attribute.forEach(((t,e)=>{a.restaurants.push({value:t.attribute_name})}));var s=this.restaurants;e(t?s.filter(this.createFilter(t)):s)},querySearch2(t,e,a){let s=this,r=[],l=s.form.model.product_attr[a].attribute_name;0!=s.restaurants.length&&l&&s.form.attribute.forEach(((t,e)=>{t.attribute_name!=l||(r=t.attribute_value)})),r.length>0&&(s.restaurants2=[],r.forEach((t=>{s.restaurants2.push({value:t})}))),e(this.restaurants2)},createFilter:t=>e=>0===e.value.toLowerCase().indexOf(t.toLowerCase()),addAttIndex(t){this.form.model.product_attr[t].attribute_value.push("")},delAttIndex(t,e){this.form.model.product_attr[t].attribute_value.splice(e,1)},delIndex(t){this.form.model.product_attr.splice(t,1)}}},_=(t=>(v("data-v-3daa5359"),t=t(),b(),t))((()=>i("div",{class:"common-form mt50"},"商品属性",-1))),j={class:"mt16"},g={class:"p-0-30 mb18"},x={class:"d-s-c"},y=h('<div class="d-c-c mb16" data-v-3daa5359><div style="width:100px;" data-v-3daa5359><span class="red" data-v-3daa5359>*</span>属性名称：</div><div class="flex-1 ml40" data-v-3daa5359><span class="red" data-v-3daa5359>*</span>属性值(至少填写两个)</div></div>',1),k={class:"d-c-s"},w={class:"d-c-c"},C={style:{width:"100px"}},q={class:"flex-1 d-s-s",style:{"flex-wrap":"wrap"}};const V=s(f,[["render",function(s,h,v,b,f,V){const A=t,I=e,z=a;return r(),l("div",null,[_,i("div",null,[i("div",j,[i("div",g,[i("div",x,[o("商品属性: "),i("div",{class:"blue ml30",onClick:h[0]||(h[0]=(...t)=>V.addAttr&&V.addAttr(...t))},"添加属性+")])]),V.form.model.product_attr.length>0?(r(!0),l(d,{key:0},u(V.form.model.product_attr,((t,e)=>(r(),l("div",{class:"mb18 p-0-30",key:e},[y,i("div",k,[i("div",w,[m(A,{class:"mr16 mb20",size:"mini",icon:"Delete",circle:"",onClick:t=>V.delIndex(e)},null,8,["onClick"]),i("div",C,[m(z,{"label-width":"0",rules:[{required:!0,message:" "}],prop:"model.product_attr."+e+".attribute_name"},{default:n((()=>[m(I,{class:"inline-input",size:"medium",modelValue:t.attribute_name,"onUpdate:modelValue":e=>t.attribute_name=e,"fetch-suggestions":V.querySearch,placeholder:"如:温度"},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions"])])),_:2},1032,["prop"])])]),i("div",q,[(r(!0),l(d,null,u(t.attribute_value,((a,s)=>(r(),l("div",{key:s,class:"ml20 mb20"},[m(z,{"label-width":"0",style:{"margin-bottom":"0"},rules:[{required:!0,message:" "}],prop:"model.product_attr."+e+".attribute_value."+s},{default:n((()=>[m(I,{style:{width:"100px"},size:"medium",modelValue:t.attribute_value[s],"onUpdate:modelValue":e=>t.attribute_value[s]=e,"fetch-suggestions":(t,a)=>V.querySearch2(t,a,e),placeholder:"请选择"},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions"]),s==t.attribute_value.length-1?(r(),c(A,{key:0,class:"ml10",size:"mini",icon:"Plus",circle:"",onClick:t=>V.addAttIndex(e)},null,8,["onClick"])):p("",!0),s>1?(r(),c(A,{key:1,class:"ml10",size:"mini",icon:"Delete",circle:"",onClick:t=>V.delAttIndex(e,s)},null,8,["onClick"])):p("",!0)])),_:2},1032,["prop"])])))),128))])])])))),128)):p("",!0)])])])}],["__scopeId","data-v-3daa5359"]]);export{V as default};

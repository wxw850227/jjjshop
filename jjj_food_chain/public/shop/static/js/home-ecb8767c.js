import{E as a,e as t,v as s}from"./element-plus-0b11a037.js";import{_ as i,d as e}from"./index-7abb690d.js";import{P as o}from"./page-520d346d.js";import r from"./Type-a644b4b2.js";import m from"./Model-4abd12a3.js";import d from"./Params-f45607d3.js";import{aj as p,$ as l,o as n,c as j,a as u,T as f,Y as c,P as y,S as g,W as D}from"./@vue-5441e37d.js";import"./@vueuse-d256812d.js";import"./lodash-es-d1425fe7.js";import"./async-validator-cf877c1f.js";import"./@element-plus-2416ebe7.js";import"./dayjs-9faf8871.js";import"./call-bind-0c463fe3.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-e88e0a38.js";import"./pinia-f65196e0.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./qs-942d6868.js";import"./side-channel-ba7aab8a.js";import"./object-inspect-860361a9.js";import"./vue-ueditor-wrap-026a3d0f.js";import"./Setpages-381704ec.js";import"./Banner-d5afc43b.js";import"./Window-7cb34eef.js";import"./NavBar-68e2d306.js";import"./Blank-f46f5c85.js";import"./Guide-268c893e.js";import"./vuedraggable-fa449dda.js";import"./vue-ffc0216e.js";import"./sortablejs-88eb33dd.js";import"./adNav-70955519.js";import"./store-c5b14aed.js";import"./Upload-bc443e94.js";import"./Setpages-4934a7c6.js";import"./Banner-b189708e.js";import"./Setlink-fdaac225.js";import"./Window-c9b23084.js";import"./NavBar-5f4724f0.js";import"./adNav-be569549.js";import"./Blank-1900548d.js";import"./Guide-54d60c2f.js";import"./product-27fdf87b.js";const h={class:"diy-container clearfix"},v={class:"diy-menu"},b={class:"diy-phone"},x={class:"diy-info"},k={class:"common-button-wrapper"};const S=i({components:{Type:r,Model:m,Params:d},data:()=>({loading:!0,defaultData:{},diyData:{items:[]},opts:{},form:{umeditor:{},curItem:{},selectedIndex:-1}}),created(){this.getData()},methods:{getData(){let a=this;o.editHome({},!0).then((t=>{a.defaultData=t.data.defaultData,a.diyData=t.data.jsonData,a.form.curItem=a.diyData.page,a.opts=t.data.opts,a.loading=!1})).catch((t=>{a.loading=!1}))},onAddItem:function(a){let t=e(this.defaultData[a]),s=0;this.form.selectedIndex<0?(s=0,this.diyData.items.unshift(t)):(s=this.form.selectedIndex+1,this.diyData.items.splice(s,0,t)),this.$refs.model.onEditer(s)},Submit(){let t=this;t.loading=!0;let s=t.diyData,i=t.page_id;o.SavePage({params:JSON.stringify(s),page_id:i},!0).then((s=>{t.loading=!1,a({message:"恭喜你，修改成功",type:"success"}),t.getData(),t.form.selectedIndex=-1})).catch((a=>{t.loading=!1}))}}},[["render",function(a,i,e,o,r,m){const d=p("Type"),S=p("Model"),I=p("Params"),w=t,B=s;return l((n(),j("div",h,[u("div",v,[r.loading?c("",!0):(n(),f(d,{key:0,defaultData:r.defaultData},null,8,["defaultData"]))]),u("div",b,[r.loading?c("",!0):(n(),f(S,{key:0,ref:"model",form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),u("div",x,[r.loading?c("",!0):(n(),f(I,{key:0,form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),u("div",k,[y(w,{size:"small",type:"primary",onClick:i[0]||(i[0]=a=>m.Submit()),loading:r.loading},{default:g((()=>[D("保存")])),_:1},8,["loading"])])])),[[B,r.loading]])}]]);export{S as default};

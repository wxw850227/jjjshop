import{f as o,a as s,b as e,c as a,d as i}from"./element-plus-d2381bb9.js";import{r as l}from"./request-9782e391.js";import{_ as t}from"./index-ea3b29b4.js";import{c as m,O as r,R as p,o as d,a as n,V as g}from"./@vue-5f6096d8.js";import"./@vueuse-40ae03aa.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./dayjs-03c8ce7e.js";import"./call-bind-224993cc.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-e5d54f4f.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./axios-85bcd05e.js";import"./qs-bc70bccf.js";import"./side-channel-f1de7f2e.js";import"./object-inspect-02d150af.js";import"./vue-router-0438cf31.js";import"./pinia-a7eba4b6.js";import"./vue-demi-71ba0ef2.js";let c={serviceDetail:(o,s)=>l._get("/admin/setting.service/index",o,s),editService:(o,s)=>l._post("/admin/setting.service/index",o,s)};const h={data:()=>({loading:!1,form:{shop_name:"",shop_bg_img:"",shop_logo_img:""}}),created(){this.getParams()},methods:{getParams(){let o=this;c.serviceDetail({},!0).then((s=>{o.form.shop_name=s.data.vars.values.shop_name,o.form.shop_bg_img=s.data.vars.values.shop_bg_img,o.form.shop_logo_img=s.data.vars.values.shop_logo_img,o.loading=!1})).catch((s=>{o.loading=!1}))},onSubmit(){let s=this,e=this.form;s.$refs.form.validate((a=>{a&&(s.loading=!0,c.editService(e,!0).then((e=>{s.loading=!1,o({message:"恭喜你，设置成功",type:"success"}),s.$router.push("/setting/Index")})).catch((o=>{s.loading=!1})))}))}}},u={class:"product-add"},_=n("div",{class:"common-form"},"平台后台设置",-1),f=n("div",{class:"tips"}," shop端平台名称，显示在登录页 ",-1),j=n("div",{class:"tips"}," shop端平台登录背景，不填则为系统默认登录背景，填写网络地址 ",-1),v=n("div",{class:"tips"}," shop端平台登录logo，不填则为系统默认登录logo，填写网络地址 ",-1),b={class:"button-wrapper"};const x=t(h,[["render",function(o,l,t,c,h,x){const V=e,w=a,y=i,q=s;return d(),m("div",u,[r(q,{ref:"form",model:h.form,"label-width":"150px"},{default:p((()=>[_,r(w,{label:"平台系统名称",rules:[{required:!0,message:" "}],prop:"shop_name"},{default:p((()=>[r(V,{modelValue:h.form.shop_name,"onUpdate:modelValue":l[0]||(l[0]=o=>h.form.shop_name=o),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"]),f])),_:1}),r(w,{label:"平台登录背景",prop:"shop_bg_img"},{default:p((()=>[r(V,{modelValue:h.form.shop_bg_img,"onUpdate:modelValue":l[1]||(l[1]=o=>h.form.shop_bg_img=o),placeholder:"平台登录背景",class:"max-w460"},null,8,["modelValue"]),j])),_:1}),r(w,{label:"平台登录logo",prop:"shop_logo_img"},{default:p((()=>[r(V,{modelValue:h.form.shop_logo_img,"onUpdate:modelValue":l[2]||(l[2]=o=>h.form.shop_logo_img=o),placeholder:"平台登录logo",class:"max-w460"},null,8,["modelValue"]),v])),_:1}),n("div",b,[r(y,{type:"primary",onClick:x.onSubmit,loading:h.loading},{default:p((()=>[g("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"])])}]]);export{x as default};
